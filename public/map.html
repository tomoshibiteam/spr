<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全国支部マップ - TOMOSHIBI</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="app-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;600;700&family=Sawarabi+Mincho&display=swap" rel="stylesheet">
</head>
<body class="app-body">
    <!-- アプリヘッダー -->
    <header class="app-header">
        <div class="container">
            <div class="logo">
                <div class="emblem">SPR</div>
                <span class="logo-text">探偵手帳</span>
            </div>
            <nav class="app-nav">
                <a href="mypage.html">📖 手帳</a>
                <a href="report.html">✍️ 調査報告</a>
                <a href="missions.html">📋 依頼リスト</a>
                <a href="map.html" class="active">🗺️ 支部マップ</a>
            </nav>
        </div>
    </header>

    <main class="app-main">
        <div class="container">
            <!-- マップコンテナ -->
            <div class="map-container">
                <!-- ヘッダー -->
                <div class="map-header">
                    <h2 class="section-title" style="font-size: 36px;">全国支部マップ</h2>
                    <p style="font-size: 16px; color: var(--primary-brown); margin-top: 15px;">
                        日本全国に広がるSPR探偵事務所のネットワーク。<br>
                        各地で活躍する探偵たちの活動をご覧ください。
                    </p>
                </div>

                <!-- フィルター -->
                <div class="map-filters">
                    <button class="filter-button active" onclick="filterBranches('all')">
                        すべて
                    </button>
                    <button class="filter-button" onclick="filterBranches('event')">
                        🎪 イベント開催中
                    </button>
                    <button class="filter-button" onclick="filterBranches('recruit')">
                        👥 探偵募集中
                    </button>
                    <button class="filter-button" onclick="filterBranches('active')">
                        ⚡ 活発な支部
                    </button>
                </div>

                <!-- 日本地図 -->
                <div class="japan-map">
                    <div class="map-placeholder">🗾</div>
                    <div class="map-description">
                        <p style="font-size: 18px; font-weight: 700; color: var(--sepia); margin-bottom: 15px;">
                            古地図風インタラクティブマップ
                        </p>
                        <p>
                            各支部のアイコンをクリックすると、その地域の活動状況や開催中のイベント情報が表示されます。<br>
                            実装版では、日本地図上に支部マーカーが配置され、クリックで詳細情報を表示できます。
                        </p>
                    </div>
                </div>

                <!-- 支部一覧 -->
                <div class="branches-list">
                    <div class="branch-card active" data-category="event active" onclick="selectBranch(this, 'setouchi')">
                        <div class="branch-icon">🌊</div>
                        <div class="branch-name">瀬戸内海支部</div>
                        <div class="branch-stats">
                            イベント開催中<br>
                            総貢献量：234.5kg<br>
                            解決事件：15件<br>
                            登録探偵：89名
                        </div>
                    </div>

                    <div class="branch-card" data-category="event" onclick="selectBranch(this, 'hida')">
                        <div class="branch-icon">⛰️</div>
                        <div class="branch-name">飛騨高山支部</div>
                        <div class="branch-stats">
                            イベント開催中<br>
                            総貢献量：156.2kg<br>
                            解決事件：8件<br>
                            登録探偵：42名
                        </div>
                    </div>

                    <div class="branch-card" data-category="recruit" onclick="selectBranch(this, 'tohoku')">
                        <div class="branch-icon">🎭</div>
                        <div class="branch-name">東北支部</div>
                        <div class="branch-stats">
                            探偵募集中<br>
                            総貢献量：198.7kg<br>
                            解決事件：12件<br>
                            登録探偵：56名
                        </div>
                    </div>

                    <div class="branch-card" data-category="event" onclick="selectBranch(this, 'yakushima')">
                        <div class="branch-icon">🌲</div>
                        <div class="branch-name">屋久島支部</div>
                        <div class="branch-stats">
                            イベント開催中<br>
                            総貢献量：312.8kg<br>
                            解決事件：22件<br>
                            登録探偵：67名
                        </div>
                    </div>

                    <div class="branch-card" data-category="active" onclick="selectBranch(this, 'shitamachi')">
                        <div class="branch-icon">🏪</div>
                        <div class="branch-name">下町支部</div>
                        <div class="branch-stats">
                            活動中<br>
                            総貢献量：445.3kg<br>
                            解決事件：31件<br>
                            登録探偵：124名
                        </div>
                    </div>

                    <div class="branch-card" data-category="active" onclick="selectBranch(this, 'kanda')">
                        <div class="branch-icon">📚</div>
                        <div class="branch-name">神田支部</div>
                        <div class="branch-stats">
                            活動中<br>
                            総貢献量：389.1kg<br>
                            解決事件：28件<br>
                            登録探偵：102名
                        </div>
                    </div>

                    <div class="branch-card" data-category="recruit" onclick="selectBranch(this, 'okinawa')">
                        <div class="branch-icon">🏝️</div>
                        <div class="branch-name">沖縄支部</div>
                        <div class="branch-stats">
                            探偵募集中<br>
                            総貢献量：167.4kg<br>
                            解決事件：9件<br>
                            登録探偵：38名
                        </div>
                    </div>

                    <div class="branch-card" data-category="active" onclick="selectBranch(this, 'hokkaido')">
                        <div class="branch-icon">❄️</div>
                        <div class="branch-name">北海道支部</div>
                        <div class="branch-stats">
                            活動中<br>
                            総貢献量：521.6kg<br>
                            解決事件：35件<br>
                            登録探偵：145名
                        </div>
                    </div>

                    <div class="branch-card" data-category="" onclick="selectBranch(this, 'kyoto')">
                        <div class="branch-icon">⛩️</div>
                        <div class="branch-name">京都支部</div>
                        <div class="branch-stats">
                            準備中<br>
                            総貢献量：278.9kg<br>
                            解決事件：18件<br>
                            登録探偵：76名
                        </div>
                    </div>
                </div>

                <!-- 統計情報 -->
                <div style="margin-top: 60px; padding: 40px; background: var(--dark-cream); border-radius: 8px; border: 2px solid var(--primary-brown);">
                    <h3 style="font-size: 24px; font-weight: 700; color: var(--sepia); margin-bottom: 30px; text-align: center;">
                        全国の活動統計
                    </h3>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;">
                        <div style="text-align: center; padding: 25px; background: var(--cream); border-radius: 8px; border: 2px solid var(--primary-brown);">
                            <div style="font-size: 36px; margin-bottom: 10px;">🏢</div>
                            <div style="font-size: 32px; font-weight: 700; color: var(--sepia); margin-bottom: 5px;">47</div>
                            <div style="font-size: 14px; color: var(--primary-brown);">支部数</div>
                        </div>
                        <div style="text-align: center; padding: 25px; background: var(--cream); border-radius: 8px; border: 2px solid var(--primary-brown);">
                            <div style="font-size: 36px; margin-bottom: 10px;">👥</div>
                            <div style="font-size: 32px; font-weight: 700; color: var(--sepia); margin-bottom: 5px;">2,847</div>
                            <div style="font-size: 14px; color: var(--primary-brown);">登録探偵数</div>
                        </div>
                        <div style="text-align: center; padding: 25px; background: var(--cream); border-radius: 8px; border: 2px solid var(--primary-brown);">
                            <div style="font-size: 36px; margin-bottom: 10px;">✅</div>
                            <div style="font-size: 32px; font-weight: 700; color: var(--sepia); margin-bottom: 5px;">342</div>
                            <div style="font-size: 14px; color: var(--primary-brown);">解決事件数</div>
                        </div>
                        <div style="text-align: center; padding: 25px; background: var(--cream); border-radius: 8px; border: 2px solid var(--primary-brown);">
                            <div style="font-size: 36px; margin-bottom: 10px;">🌱</div>
                            <div style="font-size: 32px; font-weight: 700; color: var(--sepia); margin-bottom: 5px;">8.7t</div>
                            <div style="font-size: 14px; color: var(--primary-brown);">総貢献量</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- フッター -->
    <footer class="app-footer">
        <div class="container">
            <p>&copy; 2025 TOMOSHIBI - SPR探偵事務所</p>
            <div class="footer-links">
                <a href="index.html">ホームに戻る</a>
                <a href="#">ヘルプ</a>
                <a href="#">設定</a>
            </div>
        </div>
    </footer>

    <script>
        // フィルター機能
        function filterBranches(category) {
            // フィルターボタンのアクティブ状態を更新
            document.querySelectorAll('.filter-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // 支部カードのフィルタリング
            const cards = document.querySelectorAll('.branch-card');
            cards.forEach(card => {
                if (category === 'all') {
                    card.style.display = 'block';
                } else {
                    const categories = card.getAttribute('data-category');
                    if (categories && categories.includes(category)) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                }
            });
        }

        // 支部選択
        function selectBranch(element, branchId) {
            // 他のカードの選択を解除
            document.querySelectorAll('.branch-card').forEach(card => {
                card.classList.remove('active');
            });
            
            // クリックしたカードを選択
            element.classList.add('active');

            // 詳細情報を表示（モーダル）
            showBranchDetail(branchId);
        }

        // 支部詳細表示
        function showBranchDetail(branchId) {
            const branchData = {
                'setouchi': {
                    name: '瀬戸内海支部',
                    icon: '🌊',
                    description: '美しい瀬戸内海の環境保護を中心に活動しています。海洋ゴミ問題への取り組みが活発で、多くの探偵が海岸清掃活動に参加しています。',
                    event: '蒼い宝石失踪事件',
                    contact: 'setouchi@spr-detective.jp'
                },
                'hida': {
                    name: '飛騨高山支部',
                    icon: '⛰️',
                    description: '山あいの伝統文化を守る活動を行っています。郷土料理や伝統工芸の継承に力を入れており、地域の方々との交流が盛んです。',
                    event: '幻のレシピを探せ',
                    contact: 'hida@spr-detective.jp'
                },
                'tohoku': {
                    name: '東北支部',
                    icon: '🎭',
                    description: '地域の祭りや伝統文化の復興に取り組んでいます。新しい探偵を募集中で、一緒に活動してくれる仲間を待っています。',
                    event: '消えた祭りの音色（準備中）',
                    contact: 'tohoku@spr-detective.jp'
                }
            };

            const data = branchData[branchId];
            if (!data) {
                alert('この支部の詳細情報は準備中です');
                return;
            }

            // モーダルを表示
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: var(--cream);
                padding: 40px;
                border-radius: 12px;
                border: 3px solid var(--primary-brown);
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
                z-index: 10000;
                max-width: 500px;
                width: 90%;
            `;
            modal.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 64px; margin-bottom: 20px;">${data.icon}</div>
                    <h3 style="font-size: 28px; font-weight: 700; color: var(--sepia); margin-bottom: 20px;">
                        ${data.name}
                    </h3>
                    <p style="font-size: 16px; line-height: 1.8; color: var(--text-dark); margin-bottom: 25px; text-align: left;">
                        ${data.description}
                    </p>
                    <div style="background: var(--dark-cream); padding: 20px; border-radius: 8px; margin-bottom: 25px; text-align: left;">
                        <div style="font-size: 14px; color: var(--primary-brown); margin-bottom: 10px;">
                            <strong>📋 開催中のイベント</strong>
                        </div>
                        <div style="font-size: 16px; color: var(--sepia);">
                            ${data.event}
                        </div>
                    </div>
                    <div style="background: var(--dark-cream); padding: 20px; border-radius: 8px; margin-bottom: 25px; text-align: left;">
                        <div style="font-size: 14px; color: var(--primary-brown); margin-bottom: 10px;">
                            <strong>📧 お問い合わせ</strong>
                        </div>
                        <div style="font-size: 14px; color: var(--sepia);">
                            ${data.contact}
                        </div>
                    </div>
                    <button onclick="this.parentElement.parentElement.remove(); document.querySelector('.modal-overlay').remove();" 
                            style="background: var(--gold); border: none; padding: 12px 24px; border-radius: 8px; font-size: 16px; font-weight: 700; cursor: pointer; width: 100%;">
                        閉じる
                    </button>
                </div>
            `;
            document.body.appendChild(modal);

            // 背景のオーバーレイ
            const overlay = document.createElement('div');
            overlay.className = 'modal-overlay';
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                z-index: 9999;
            `;
            overlay.onclick = function() {
                modal.remove();
                overlay.remove();
            };
            document.body.appendChild(overlay);
        }
    </script>
</body>
</html>


